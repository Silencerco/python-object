[tox]
envlist = {py36,py35,py34,py33,py27}
deps = -rrequirements.txt


[testenv]
usedevelop = True
deps =
    -rrequirements.txt
    -rtest-requirements.txt

passenv = ANSIBLE_ASK_SUDO_PASS HOME LANG LC_ALL

commands =
    py.test -q --basetemp={envtmpdir} --confcutdir=.. -n 1 \
        --junitxml=tests/junit.xml \
        --cov-report xml --cov steenzout.object \
        --cov-report=html \
        --cov-report term-missing \
        --pep8 \
        {posargs}
    pylint steenzout


[testenv:docs]
changedir = docs
deps =
    -rrequirements.txt
    Sphinx

commands =
    sphinx-build -W -b html -d {envtmpdir}/doctrees . {envtmpdir}/html

[testenv:venv]
commands =
    {posargs}
